<header class="w-full font-body">
    <!-- Top bar -->
    <div class="bg-primary">
        <div class="max-w-7xl mx-auto px-4 md:px-6 py-3 md:py-4">
            <!-- MOBILE: hamburguesa | logo + texto | usuario -->
            <div class="md:hidden grid grid-cols-[auto_1fr_auto] items-center">
                <!-- Trigger del drawer -->
                <button (click)="toggleDrawer()"
                    class="justify-self-start inline-flex w-10 h-10 items-center justify-center rounded-full border border-white/30 text-white hover:bg-white/10 active:scale-95 transition"
                    aria-label="Abrir men√∫">
                    <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>

                <!-- Logo + texto -->
                <div class="min-w-0 flex items-center justify-center gap-2">
                    <img [routerLink]="'/home'" src="/assets/images/Logo2.png" alt="Mercado Sin√©rgico"
                        class="h-10 w-auto" />
                    <span [routerLink]="'/home'" class="text-white font-semibold whitespace-nowrap overflow-hidden text-ellipsis max-w-[60vw]
                     leading-tight text-lg min-[420px]:text-xl max-[400px]:hidden">
                        Mercado Sin√©rgico
                    </span>
                </div>

                <!-- Usuario -->
                <div class="flex items-center gap-2 justify-self-end">
                    <a [routerLink]="profileLink"
                        class="inline-flex w-10 h-10 items-center justify-center rounded-full border border-white/30 text-white hover:bg-white/10 active:scale-95 transition"
                        aria-label="Mi perfil">
                        <svg class="w-6 h-6" viewBox="0 0 448 512" fill="currentColor" aria-hidden="true">
                            <path d="M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8
                                16 482.3 16 498.7 29.3 512 45.7 512h356.6c16.4 0 29.7-13.3
                                29.7-29.7 0-98.5-79.8-178.3-178.3-178.3h-59.4z" />
                        </svg>
                    </a>

                </div>
            </div>

            <!-- DESKTOP -->
            <div class="hidden md:grid md:grid-cols-[auto_1fr_auto] md:items-center md:gap-0">
                <a [routerLink]="'/home'" class="shrink-0 inline-flex items-center">
                    <img src="/assets/images/Logo2.png" alt="Mercado Sin√©rgico" class="h-10 w-auto" />
                </a>

                <div class="flex justify-center min-w-0">
                    <div class="w-full md:max-w-lg lg:max-w-xl xl:max-w-2xl">
                        <div class="flex items-center bg-white rounded-full px-4 py-2 shadow-md">
                            <input type="text" placeholder="Buscar productos...(En desarrollo üöß)"
                                class="flex-1 min-w-0 outline-none text-sm text-gray-700 bg-transparent" />
                            <button type="button" aria-label="Buscar" class="p-1 hover:scale-110 transition-transform">
                                <svg class="w-5 h-5 text-black mr-1" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M21 21l-4.35-4.35M11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="flex items-center gap-3">
                    <a [routerLink]="profileLink"
                        class="inline-flex w-10 h-10 items-center justify-center rounded-full border border-white/30 text-white hover:bg-white/10 active:scale-95 transition"
                        aria-label="Mi perfil">
                        <svg class="w-6 h-6" viewBox="0 0 448 512" fill="currentColor" aria-hidden="true">
                            <path d="M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8
                                16 482.3 16 498.7 29.3 512 45.7 512h356.6c16.4 0 29.7-13.3
                                29.7-29.7 0-98.5-79.8-178.3-178.3-178.3h-59.4z" />
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- NAVBAR (desktop) -->
    <app-navbar></app-navbar>

    <!-- DRAWER (mobile) -->
    @if (drawerOpen) {
    <app-drawer [isLoggedIn]="isLoggedIn()" (closeDrawer)="toggleDrawer()" (openSearch)="openSearch()"
        (signOut)="signOut()"></app-drawer>
    }

    <!-- OVERLAY DE B√öSQUEDA -->
    @if (searchOpen) {
    }
</header>